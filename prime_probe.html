<!DOCTYPE html>
<html>
  <head>
    <title>My experiment</title>
    <script src="jspsych/dist/jspsych.js"></script>
    <script src="jspsych/dist/plugin-html-keyboard-response.js"></script>
    <link href="jspsych/dist/jspsych.css" rel="stylesheet" type="text/css" />
  </head>
  <body></body>
  <script>
    const jsPsych = initJsPsych();
    var timeline = [];

    
    const sequence_stimuli = [
        { 'prime': 'fel', 'probe':'le' },
        { 'prime': 'jobb', 'probe':'le' },
        { 'prime': 'fel', 'probe':'le' },
        { 'prime': 'fel', 'probe':'bal' },
        { 'prime': 'fel', 'probe':'le' },
        { 'prime': 'le', 'probe':'le' },
    ]

    const fixation = {
      type: jsPsychHtmlKeyboardResponse,
      stimulus: '+',
        choices: "NO_KEYS",
        trial_duration: 300
    }
    const blank = {
      type: jsPsychHtmlKeyboardResponse,
      stimulus: ' ',
        choices: "NO_KEYS",
        trial_duration: 511
    }
    const hello_trial = {
      type: jsPsychHtmlKeyboardResponse,
      stimulus: jsPsych.timelineVariable('prime'),
        choices: "NO_KEYS",
        trial_duration: 500
    }
    
    const goodbye_trial = {
      type: jsPsychHtmlKeyboardResponse,
      stimulus: jsPsych.timelineVariable('probe'),
        choices: "NO_KEYS",
        trial_duration: 500
    }

    const prime_probe_sequence = {
      timeline: [
        fixation,blank, hello_trial, goodbye_trial
      ],
      timeline_variables: sequence_stimuli
    }

    timeline.push(prime_probe_sequence);


    jsPsych.run(timeline);
  </script>
</html>